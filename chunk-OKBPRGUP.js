import{a as R,d as U,e as J,f as K,g as Q,h as X,m as Y}from"./chunk-Z4D7OF5N.js";import{p as G}from"./chunk-LFEJYUTS.js";import{Cb as l,Db as V,Fb as A,Gb as H,Hb as W,La as r,Lb as B,Mb as q,R as v,Va as f,X as a,Xa as M,Xb as z,Ya as k,_a as S,ba as I,ca as b,eb as m,hb as D,ib as P,jb as F,kb as N,la as w,lb as d,ma as c,mb as n,na as E,ob as j,pa as y,qb as g,rb as O,ub as L,x}from"./chunk-HW3ZYO54.js";var u=class t{http=a(G);constructor(){}getTodos(){return this.http.get("https://jsonplaceholder.typicode.com/todos")}static \u0275fac=function(e){return new(e||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var T=class t{isCompleted=c(!1);el=a(E);constructor(){}highlightTodoEffect=z(()=>{this.isCompleted()?(this.el.nativeElement.style.backgroundColor="lightcyan",this.el.nativeElement.style.textDecoration="line-through"):(this.el.nativeElement.style.backgroundColor="lightgray",this.el.nativeElement.style.textDecoration="none")});static \u0275fac=function(e){return new(e||t)};static \u0275dir=M({type:t,selectors:[["","appHighlightCompletedTodo",""]],inputs:{isCompleted:[1,"isCompleted"]}})};var C=class t{todo=c.required();todotoggled=w();todoClicked(){this.todotoggled.emit(this.todo())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-todo-item"]],inputs:{todo:[1,"todo"]},outputs:{todotoggled:"todotoggled"},decls:4,vars:8,consts:[["appHighlightCompletedTodo","",1,"todo__item",3,"isCompleted"],["type","checkbox",1,"todo__checkbox",3,"change","id","checked"]],template:function(e,i){e&1&&(d(0,"li",0)(1,"input",1),g("change",function(){return i.todoClicked()}),n(),d(2,"label"),l(3),n()()),e&2&&(m("isCompleted",i.todo().completed),r(),L("id","todo__",i.todo().id,""),m("checked",i.todo().completed),r(),D("todo__",i.todo().id,""),r(),V(i.todo().title))},dependencies:[T],styles:[".todo__item[_ngcontent-%COMP%]{background-color:#d3d3d3;border:1px solid #ccc;border-radius:5px;margin:5px;padding:10px}.todo__checkbox[_ngcontent-%COMP%]{width:14px;margin-right:10px}"]})};var _=class t{transform(o,e){return!e||e.trim()===""?o:o.filter(i=>{let p=i.title.toLowerCase(),s=e.toLowerCase();return p.includes(s)})}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=k({name:"filterTodo",type:t,pure:!0})};var ee=(t,o)=>o.id;function oe(t,o){t&1&&(d(0,"p",0),l(1,"Loading..."),n())}function te(t,o){if(t&1){let e=j();d(0,"app-todo-item",4),g("todotoggled",function(p){I(e);let s=O();return b(s.updateTodoItem(p))}),n()}if(t&2){let e=o.$implicit;m("todo",e)}}var Z=class t{todoService=a(u);todoItems=y([]);searchTerm=y("");ngOnInit(){this.todoService.getTodos().pipe(x(o=>{throw console.error("Error fetching todos:",o),o})).subscribe({next:o=>{this.todoItems.set(o)}})}updateTodoItem(o){this.todoItems.update(e=>{let i=e.findIndex(p=>p.id===o.id);return i!==-1&&(e[i].completed=!e[i].completed),[...e]})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-todos"]],decls:9,vars:5,consts:[[1,"no-todos"],[1,"todos"],["type","text","placeholder","Search todos....","name","searchTerm",1,"search",3,"ngModelChange","ngModel"],[3,"todo"],[3,"todotoggled","todo"]],template:function(e,i){e&1&&(d(0,"h3"),l(1,"Todos List"),n(),S(2,oe,2,0,"p",0),d(3,"ul",1)(4,"form")(5,"input",2),W("ngModelChange",function(s){return H(i.searchTerm,s)||(i.searchTerm=s),s}),n()(),F(6,te,1,1,"app-todo-item",3,ee),B(8,"filterTodo"),n()),e&2&&(r(2),P(i.todoItems().length?-1:2),r(3),A("ngModel",i.searchTerm),r(),N(q(8,2,i.todoItems(),i.searchTerm())))},dependencies:[C,Y,X,R,U,J,Q,K,_],styles:[".search[_ngcontent-%COMP%]{width:300px;padding:10px 20px;margin:0 auto;background-color:#000;color:#fff;font-size:16px;font-weight:700;border-radius:25px;border:4px solid cyan}"]})};export{Z as TodosComponent};
